{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sujatha\\\\Downloads\\\\projectlast\\\\kky6mv\\\\src\\\\components\\\\ForgotPassword\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ForgotPassword extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      username: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\",\n      showSubmitError: false,\n      errorMsg: \"\",\n      successMsg: \"\"\n    };\n    this.onSubmitForm = async event => {\n      event.preventDefault();\n      const {\n        username,\n        newPassword,\n        confirmPassword\n      } = this.state;\n      if (!username.trim() || !newPassword.trim() || !confirmPassword.trim()) {\n        this.setState({\n          showSubmitError: true,\n          errorMsg: \"All fields are required\"\n        });\n        return;\n      }\n      if (newPassword !== confirmPassword) {\n        this.setState({\n          showSubmitError: true,\n          errorMsg: \"Passwords do not match\"\n        });\n        return;\n      }\n      try {\n        const response = await axios.post('http://localhost:8000/forgot-password/', {\n          username,\n          new_password: newPassword\n        });\n        if (response.status === 200) {\n          this.setState({\n            successMsg: \"Password updated successfully\",\n            showSubmitError: false,\n            errorMsg: \"\"\n          });\n        }\n      } catch (error) {\n        if (error.response && error.response.data) {\n          this.setState({\n            showSubmitError: true,\n            errorMsg: error.response.data.detail\n          });\n        } else {\n          this.setState({\n            showSubmitError: true,\n            errorMsg: \"An error occurred. Please try again.\"\n          });\n        }\n      }\n    };\n    this.onChangeField = event => {\n      this.setState({\n        [event.target.name]: event.target.value,\n        showSubmitError: false,\n        errorMsg: \"\",\n        successMsg: \"\"\n      });\n    };\n  }\n  render() {\n    const {\n      username,\n      newPassword,\n      confirmPassword,\n      showSubmitError,\n      errorMsg,\n      successMsg\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forgot-password-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Forgot Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-container\",\n        onSubmit: this.onSubmitForm,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            htmlFor: \"username\",\n            children: \"USERNAME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"username\",\n            name: \"username\",\n            placeholder: \"Username\",\n            className: \"user-input\",\n            value: username,\n            onChange: this.onChangeField\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            htmlFor: \"newPassword\",\n            children: \"NEW PASSWORD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"newPassword\",\n            name: \"newPassword\",\n            placeholder: \"New Password\",\n            className: \"user-input\",\n            value: newPassword,\n            onChange: this.onChangeField\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            htmlFor: \"confirmPassword\",\n            children: \"CONFIRM PASSWORD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"confirmPassword\",\n            name: \"confirmPassword\",\n            placeholder: \"Confirm Password\",\n            className: \"user-input\",\n            value: confirmPassword,\n            onChange: this.onChangeField\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), showSubmitError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-msg\",\n          children: errorMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 31\n        }, this), successMsg && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"success-msg\",\n          children: successMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit-button\",\n          type: \"submit\",\n          children: \"Update Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signin\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"back-to-signin\",\n            children: \"Back to Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default ForgotPassword;","map":{"version":3,"names":["React","Component","axios","Link","jsxDEV","_jsxDEV","ForgotPassword","constructor","arguments","state","username","newPassword","confirmPassword","showSubmitError","errorMsg","successMsg","onSubmitForm","event","preventDefault","trim","setState","response","post","new_password","status","error","data","detail","onChangeField","target","name","value","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","placeholder","onChange","to"],"sources":["C:/Users/sujatha/Downloads/projectlast/kky6mv/src/components/ForgotPassword/index.jsx"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./index.css\";\r\n\r\nclass ForgotPassword extends Component {\r\n  state = {\r\n    username: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n    showSubmitError: false,\r\n    errorMsg: \"\",\r\n    successMsg: \"\",\r\n  };\r\n\r\n  onSubmitForm = async (event) => {\r\n    event.preventDefault();\r\n    const { username, newPassword, confirmPassword } = this.state;\r\n\r\n    if (!username.trim() || !newPassword.trim() || !confirmPassword.trim()) {\r\n      this.setState({ showSubmitError: true, errorMsg: \"All fields are required\" });\r\n      return;\r\n    }\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      this.setState({ showSubmitError: true, errorMsg: \"Passwords do not match\" });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:8000/forgot-password/', {\r\n        username,\r\n        new_password: newPassword,\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        this.setState({ successMsg: \"Password updated successfully\", showSubmitError: false, errorMsg: \"\" });\r\n      }\r\n    } catch (error) {\r\n      if (error.response && error.response.data) {\r\n        this.setState({ showSubmitError: true, errorMsg: error.response.data.detail });\r\n      } else {\r\n        this.setState({ showSubmitError: true, errorMsg: \"An error occurred. Please try again.\" });\r\n      }\r\n    }\r\n  };\r\n\r\n  onChangeField = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value, showSubmitError: false, errorMsg: \"\", successMsg: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { username, newPassword, confirmPassword, showSubmitError, errorMsg, successMsg } = this.state;\r\n\r\n    return (\r\n      <div className=\"forgot-password-container\">\r\n        <h1>Forgot Password</h1>\r\n        <form className=\"form-container\" onSubmit={this.onSubmitForm}>\r\n          <div className=\"input-container\">\r\n            <label className=\"label\" htmlFor=\"username\">\r\n              USERNAME\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              name=\"username\"\r\n              placeholder=\"Username\"\r\n              className=\"user-input\"\r\n              value={username}\r\n              onChange={this.onChangeField}\r\n            />\r\n          </div>\r\n          <div className=\"input-container\">\r\n            <label className=\"label\" htmlFor=\"newPassword\">\r\n              NEW PASSWORD\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"newPassword\"\r\n              name=\"newPassword\"\r\n              placeholder=\"New Password\"\r\n              className=\"user-input\"\r\n              value={newPassword}\r\n              onChange={this.onChangeField}\r\n            />\r\n          </div>\r\n          <div className=\"input-container\">\r\n            <label className=\"label\" htmlFor=\"confirmPassword\">\r\n              CONFIRM PASSWORD\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"confirmPassword\"\r\n              name=\"confirmPassword\"\r\n              placeholder=\"Confirm Password\"\r\n              className=\"user-input\"\r\n              value={confirmPassword}\r\n              onChange={this.onChangeField}\r\n            />\r\n          </div>\r\n          {showSubmitError && <p className=\"error-msg\">{errorMsg}</p>}\r\n          {successMsg && <p className=\"success-msg\">{successMsg}</p>}\r\n          <button className=\"submit-button\" type=\"submit\">\r\n            Update Password\r\n          </button>\r\n          <Link to=\"/signin\">\r\n            <p className=\"back-to-signin\">Back to Sign In</p>\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ForgotPassword;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}